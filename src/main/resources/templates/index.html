<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Add and View News</title>
        <meta charset="UTF-8" />
    </head>
    <body>
        <h2>Categories</h2>
        
        <ul>
            <li th:each="category : ${categories}"> 
                <a th:href="@{/categories/{category}(category=${category.name})}" th:text="${category.name}"></a>
            </li>
        </ul>

        <h1>News</h1>

        <ol>
            <li th:each="article : ${news}">
                <p>
                    <a style="font-weight: bold; font-size: 17px;" th:href="@{/{article}(article=${article.id})}" th:text="${article.title}">Article Title</a>
                    <br th:text="${article.caption}"></br>
                    <img th:if="${article.fileObject != null}" th:src="@{/images/{id}(id=${article.fileObject.id})}"/>
                </p>
            </li>
        </ol>

        <!-- **************************************************************** -->
        <!--  FORM TO POST ARTICLES                                           -->
        <!-- **************************************************************** -->
        <h2>Write an Article</h2>

        <form th:action="@{/}" method="POST" enctype="multipart/form-data">
            <div>
                <label for="title">Title:</label>
                <input type="text" name="title" />
            </div>
            
            <div>
                <label for="caption">Caption:</label>
                <textarea name="caption"></textarea>
            </div>
            
            <div>
                <label for="content">Content:</label>
                <textarea name="content"></textarea>
            </div>
            
            <div>
                <span th:each="category : ${categories}">
                    <label for="category">
                        <input type="radio" th:text="${category.name}" name="category" th:value="${category.name}"/>
                    </label>
                </span>
            </div>
            
            <div>
                <label for="file">File:</label>
                <input type="file" name="file" />
            </div>
            
            <div class="button">
                <button type="submit">Post your article</button>
            </div>
        </form>

    </body>
</html>